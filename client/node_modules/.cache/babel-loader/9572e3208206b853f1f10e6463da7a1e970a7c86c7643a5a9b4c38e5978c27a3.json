{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{fetchExpenses}from\"../services/api\";import ExpenseForm from\"../components/ExpenseForm\";import BudgetSettings from\"../components/BudgetSettings\";import ExpenseDistributionChart from\"../components/charts/ExpenseDistributionChart\";import ExpenseTrendChart from\"../components/charts/ExpenseTrendChart\";import{Container,Grid,Card,CardContent,Typography,Box,CircularProgress}from\"@mui/material\";import\"../styles/Dashboard.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{const[expenses,setExpenses]=useState([]);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem(\"token\");if(!token){navigate(\"/login\");}const getExpenses=async()=>{try{setLoading(true);const{data}=await fetchExpenses();setExpenses(data);setLoading(false);}catch(error){console.error(\"Error fetching expenses:\",error);setLoading(false);}};getExpenses();},[navigate]);return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",className:\"dashboard-container\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"h1\",align:\"center\",gutterBottom:true,className:\"dashboard-title\",children:\"Expense Tracker Dashboard\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:4,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Card,{className:\"dashboard-card no-background\",children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:\"div\",className:\"card-title\",children:\"Add a New Expense\"}),/*#__PURE__*/_jsx(ExpenseForm,{})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Card,{className:\"dashboard-card no-background\",children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:\"div\",className:\"card-title\",children:\"Set Your Budget\"}),/*#__PURE__*/_jsx(BudgetSettings,{})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:loading?/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",children:/*#__PURE__*/_jsx(CircularProgress,{color:\"secondary\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Card,{className:\"dashboard-card no-background\",children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"div\",align:\"center\",gutterBottom:true,className:\"card-title\",children:\"Your Expenses\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"expense-list\",children:expenses.map(expense=>/*#__PURE__*/_jsx(\"li\",{className:\"expense-item\",children:/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",className:\"expense-text\",children:[expense.description,\" - $\",expense.amount,\" (\",expense.category,\")\"]})},expense._id))})]})}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:4,mt:4,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Card,{className:\"dashboard-card no-background\",children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",align:\"center\",className:\"card-title\",children:\"Expense Distribution by Category\"}),/*#__PURE__*/_jsx(Box,{mt:2,children:/*#__PURE__*/_jsx(ExpenseDistributionChart,{expenses:expenses})})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Card,{className:\"dashboard-card no-background\",children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",align:\"center\",className:\"card-title\",children:\"Expense Trend Over Time\"}),/*#__PURE__*/_jsx(Box,{mt:2,children:/*#__PURE__*/_jsx(ExpenseTrendChart,{expenses:expenses})})]})})})]})]})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","fetchExpenses","ExpenseForm","BudgetSettings","ExpenseDistributionChart","ExpenseTrendChart","Container","Grid","Card","CardContent","Typography","Box","CircularProgress","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","expenses","setExpenses","loading","setLoading","navigate","token","localStorage","getItem","getExpenses","data","error","console","maxWidth","className","children","variant","component","align","gutterBottom","container","spacing","item","xs","display","justifyContent","alignItems","height","color","map","expense","description","amount","category","_id","mt","md"],"sources":["C:/Users/kubal/Dokumenty/GitHub/ExpanseTracker/expense-tracker/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { fetchExpenses } from \"../services/api\";\r\nimport ExpenseForm from \"../components/ExpenseForm\";\r\nimport BudgetSettings from \"../components/BudgetSettings\";\r\nimport ExpenseDistributionChart from \"../components/charts/ExpenseDistributionChart\";\r\nimport ExpenseTrendChart from \"../components/charts/ExpenseTrendChart\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Box,\r\n  CircularProgress,\r\n} from \"@mui/material\";\r\nimport \"../styles/Dashboard.css\";\r\n\r\nconst Dashboard = () => {\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n    }\r\n\r\n    const getExpenses = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const { data } = await fetchExpenses();\r\n        setExpenses(data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error(\"Error fetching expenses:\", error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    getExpenses();\r\n  }, [navigate]);\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" className=\"dashboard-container\">\r\n      <Typography\r\n        variant=\"h3\"\r\n        component=\"h1\"\r\n        align=\"center\"\r\n        gutterBottom\r\n        className=\"dashboard-title\"\r\n      >\r\n        Expense Tracker Dashboard\r\n      </Typography>\r\n      <Grid container spacing={4}>\r\n        <Grid item xs={12}>\r\n          <Card className=\"dashboard-card no-background\">\r\n            <CardContent>\r\n              <Typography variant=\"h5\" component=\"div\" className=\"card-title\">\r\n                Add a New Expense\r\n              </Typography>\r\n              <ExpenseForm />\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <Card className=\"dashboard-card no-background\">\r\n            <CardContent>\r\n              <Typography variant=\"h5\" component=\"div\" className=\"card-title\">\r\n                Set Your Budget\r\n              </Typography>\r\n              <BudgetSettings />\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          {loading ? (\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              height=\"100%\"\r\n            >\r\n              <CircularProgress color=\"secondary\" />\r\n            </Box>\r\n          ) : (\r\n            <>\r\n              <Card className=\"dashboard-card no-background\">\r\n                <CardContent>\r\n                  <Typography\r\n                    variant=\"h4\"\r\n                    component=\"div\"\r\n                    align=\"center\"\r\n                    gutterBottom\r\n                    className=\"card-title\"\r\n                  >\r\n                    Your Expenses\r\n                  </Typography>\r\n                  <ul className=\"expense-list\">\r\n                    {expenses.map((expense) => (\r\n                      <li key={expense._id} className=\"expense-item\">\r\n                        <Typography variant=\"body1\" className=\"expense-text\">\r\n                          {expense.description} - ${expense.amount} (\r\n                          {expense.category})\r\n                        </Typography>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Grid container spacing={4} mt={4}>\r\n                <Grid item xs={12} md={6}>\r\n                  <Card className=\"dashboard-card no-background\">\r\n                    <CardContent>\r\n                      <Typography\r\n                        variant=\"h6\"\r\n                        align=\"center\"\r\n                        className=\"card-title\"\r\n                      >\r\n                        Expense Distribution by Category\r\n                      </Typography>\r\n                      <Box mt={2}>\r\n                        <ExpenseDistributionChart expenses={expenses} />\r\n                      </Box>\r\n                    </CardContent>\r\n                  </Card>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} md={6}>\r\n                  <Card className=\"dashboard-card no-background\">\r\n                    <CardContent>\r\n                      <Typography\r\n                        variant=\"h6\"\r\n                        align=\"center\"\r\n                        className=\"card-title\"\r\n                      >\r\n                        Expense Trend Over Time\r\n                      </Typography>\r\n                      <Box mt={2}>\r\n                        <ExpenseTrendChart expenses={expenses} />\r\n                      </Box>\r\n                    </CardContent>\r\n                  </Card>\r\n                </Grid>\r\n              </Grid>\r\n            </>\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}